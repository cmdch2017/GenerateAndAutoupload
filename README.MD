# GenerateAndAutoupload
é¡¹ç›®æ¥æºï¼šhttps://github.com/dreammis/social-auto-upload
## å¯åŠ¨å¿…çŸ¥é“
conf.py  è¿™é‡Œé…ç½®äº†chromeæµè§ˆå™¨çš„å¯åŠ¨ä½ç½®ï¼Œä½ çš„é¡¹ç›®ä¸€å®šè¦å®‰è£…chrome C:\Program Files\Google\Chrome\Application\chrome.exe
## é¡¹ç›®å›¾ç‰‡ç¤ºä¾‹
<img src="media/show/å±å¹•æˆªå›¾ 2024-08-01 152501.png" alt="tiktok show" width="800"/>


è¯¥é¡¹ç›®åœ¨ä¸Šé¢çš„é¡¹ç›®åŸºç¡€ä¸Šå¢åŠ å’Œåˆ é™¤äº†ä¸€äº›åŠŸèƒ½æ—¨åœ¨è‡ªåŠ¨ç”Ÿæˆè§†é¢‘å¹¶å‘å¸ƒè§†é¢‘åˆ°å„ä¸ªç¤¾äº¤åª’ä½“å¹³å°å¹¶æ‰“åŒ…ç¨‹åº


## how to use
é»˜è®¤å½“å¤©çš„æ—¥æœŸï¼Œç½‘ä¸Šæ‰¾åˆ°çš„ç´ ææŒ‰ç…§é»è´´åˆ°ç©ºç™½å¤„ç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼Œç„¶åç‚¹å‡»ç”Ÿæˆé€‰å®šæ—¥æœŸè§†é¢‘ï¼Œå†ç‚¹å‡»ä¸€é”®ä¸Šä¼ å³å¯ã€‚

## ğŸ’¡Feature
- ä¸­å›½ä¸»æµç¤¾äº¤åª’ä½“å¹³å°ï¼š
  - [x] æŠ–éŸ³
  - [x] è§†é¢‘å·
  - [x] bilibili

<img src="media/show/tkupload.gif" alt="tiktok show" width="800"/>

# ğŸ’¾Installation
```
pip install -r requirements.txt
playwright install chromium firefox
```
éç¨‹åºå‘˜ï¼Œ[æ–°æ‰‹çº§æ•™ç¨‹](https://juejin.cn/post/7372114027840208911)

# ğŸ‡ About
The project for my own project extracted, my release strategy is timed release (released a day in advance), so the release part of the event are used for the next day time!

If you need to release it immediately, you can study the source code or ask me questions.


å¦‚æœä½ æœ‰éœ€æ±‚ç«‹å³å‘å¸ƒï¼Œå¯è‡ªè¡Œç ”ç©¶æºç æˆ–è€…å‘æˆ‘æé—®


# æ ¸å¿ƒæ¨¡å—è§£é‡Š

### 1. è§†é¢‘æ–‡ä»¶å‡†å¤‡(video prepare)
filepath æœ¬åœ°è§†é¢‘ç›®å½•ï¼Œç›®å½•åŒ…å«(filepath Local video directory containing)

- è§†é¢‘æ–‡ä»¶(video files)
- è§†é¢‘metaä¿¡æ¯txtæ–‡ä»¶(video meta information txt file)

ä¸¾ä¾‹(for example)ï¼š

fileï¼š2023-08-24_16-29-52 - è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ .mp4

meta_file:2023-08-24_16-29-52 - è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ .txt

meta_file å†…å®¹(content)ï¼š
```angular2html
è¿™ä½å‹‡æ•¢çš„ç”·å­ä¸ºäº†å¿ƒçˆ±ä¹‹äººæ¯å¤©åšå®ˆ ğŸ¥ºâ¤ï¸â€ğŸ©¹
#åšæŒä¸æ‡ˆ #çˆ±æƒ…æ‰§ç€ #å¥‹æ–—ä½¿è€… #çŸ­è§†é¢‘
```

### Usage
1. è®¾ç½®conf æ–‡ä»¶ä¸­çš„ `LOCAL_CHROME_PATH`(åœ¨douyinã€è§†é¢‘å· tiktokå¯èƒ½å‡ºç°chromium ä¸å…¼å®¹çš„å„ç§é—®é¢˜ï¼Œå»ºè®®è®¾ç½®æœ¬åœ°çš„chrome)
2. è¿™é‡Œåˆ†å‰²å‡ºæ¥3æ¡è·¯
   - å¯è‡ªè¡Œç ”ç©¶æºç ï¼Œå…è´¹ã€ä»»æ„ ç©¿æ’åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­
   - å¯å‚è€ƒä¸‹é¢çš„å„ä¸ªå¹³å°çš„ä½¿ç”¨æŒ‡å—ï¼Œ`examples`æ–‡ä»¶å¤¹ä¸­æœ‰å„ç§ç¤ºä¾‹ä»£ç 
   - ä½¿ç”¨cli ç®€æ˜“ä½¿ç”¨(æ”¯æŒtiktok douyin è§†é¢‘å·)

#### cli ç”¨æ³•
```python 
python cli_main.py <platform> <account_name> <action: upload, login> [options]
```
æŸ¥çœ‹è¯¦ç»†çš„å‚æ•°è¯´æ˜ä½¿ç”¨ï¼š
```python
python cli_main.py -h
```
```python
usage: cli_main.py [-h] platform account_name action ...

Upload video to multiple social-media.

positional arguments:
  platform      Choose social-media platform: douyin tencent tiktok
  account_name  Account name for the platform: xiaoA
  action        Choose action
    upload      upload operation
    login       login operation
    watch       watch operation

options:
  -h, --help    show this help message and exit

```
ç¤ºä¾‹
```python
python cli_main.py douyin test login
douyinå¹³å°ï¼Œè´¦å·åä¸ºtestï¼ŒåŠ¨ä½œä¸ºlogin

python cli_main.py douyin test upload "C:\Users\duperdog\Videos\2023-11-07_05-27-44 - è¿™ä½å°‘å¥³å¦‚æ¢¦ä¸­ä»™... .mp4" -pt 0
douyinå¹³å°, è´¦å·åä¸ºtest, åŠ¨ä½œä¸ºupload, è§†é¢‘æ–‡ä»¶ï¼ˆéœ€å¯¹åº”çš„metaæ–‡ä»¶ï¼Œè¯¦è§ä¸Šï¼‰, å‘å¸ƒæ–¹å¼ï¼ˆptï¼‰ï¼š0 ç«‹å³å‘å¸ƒ

python cli_main.py douyin test upload "C:\Users\superdog\Videos\2023-11-07_05-27-44 - è¿™ä½å°‘å¥³å¦‚æ¢¦ä¸­ä»™... .mp4" -pt 1 -t "2024-6-14 12:00"
douyinå¹³å°, è´¦å·åä¸ºtest, åŠ¨ä½œä¸ºupload, è§†é¢‘æ–‡ä»¶, å‘å¸ƒæ–¹å¼ï¼ˆptï¼‰ï¼š1 å®šæ—¶å‘å¸ƒ, å‘å¸ƒæ—¶é—´(t)ï¼š 2024-6-14 12:00
```

---

## å„å¹³å°è¯¦ç»†è¯´æ˜

### 1. æŠ–éŸ³
<img src="media/show/pdf3.gif" alt="douyin show" width="500"/>

ä½¿ç”¨playwrightæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º
> æŠ–éŸ³å‰ç«¯å®ç°ï¼Œè¯¸å¤šcss class id å‡ä¸ºéšæœºæ•°ï¼Œæ•…é¡¹ç›®ä¸­locatorå¤šé‡‡ç”¨ç›¸å¯¹å®šä½ï¼Œè€Œéå›ºå®šå®šä½
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„
2. cookieè·å–ï¼šget_douyin_cookie.py æ‰«ç ç™»å½•
3. ä¸Šä¼ è§†é¢‘ï¼šupload_video_to_douyin.py 



å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
douyin_setup handle å‚æ•°ä¸ºTrueï¼Œä¸ºæ‰‹åŠ¨è·å–cookie False åˆ™æ˜¯æ ¡éªŒcookieæœ‰æ•ˆæ€§

generate_schedule_time_next_day é»˜è®¤ä»ç¬¬äºŒå¤©å¼€å§‹ï¼ˆæ­¤ä¸¾ä¸ºé¿å…é€‰æ‹©æ—¶é—´çš„æ„å¤–é”™è¯¯ï¼‰
å‚æ•°è§£é‡Šï¼š
- total_videos æœ¬æ¬¡ä¸Šä¼ è§†é¢‘ä¸ªæ•°(æˆ‘è°ƒæ•´äº†ä¸Šé™ä¸º10)
- videos_per_day æ¯æ—¥ä¸Šä¼ è§†é¢‘æ•°é‡(æˆ‘è°ƒæ•´äº†ä¸Šé™ä¸º10)
- daily_times è§†é¢‘å‘å¸ƒæ—¶é—´ é»˜è®¤10ã€11ã€12ã€13ã€14ã€15ã€16ã€17ã€18ã€19ç‚¹
- start_days ä»ç¬¬Nå¤©å¼€å§‹
```

> 2023å¹´12æœˆ15æ—¥è¡¥å……ï¼šä½¿ç”¨chromiumå¯èƒ½ä¼šå‡ºç°æ— æ³•è¯†åˆ«è§†é¢‘å°é¢å›¾ç‰‡çš„æƒ…å†µ
> è§£å†³æ–¹æ¡ˆï¼š
> 1. ä¸‹è½½chrome
> 2. æ‰¾åˆ°chromeçš„å®‰è£…ç›®å½•
> 3. å°†æœ¬åœ°chrome è·¯å¾„confæ–‡ä»¶ä¸­ LOCAL_CHROME_PATH = "xxx/xxx/chrome.exe"


å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/wanghaisheng/tiktoka-studio-uploader
- https://github.com/Superheroff/douyin_uplod
- https://github.com/lishang520/DouYin-Auto-Upload.git

---

### 2. è§†é¢‘å·
ä½¿ç”¨playwrightæ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸º
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„
2. cookieè·å–ï¼šget_tencent_cookie.py æ‰«ç ç™»å½•
3. ä¸Šä¼ è§†é¢‘ï¼šupload_video_to_tencent.py 



å…¶ä»–éƒ¨åˆ†è§£é‡Šï¼š
```
å‚è€ƒä¸Šé¢douyin_setup é…ç½®
```

> è§†é¢‘å·ä½¿ç”¨chromiumä¼šå‡ºç°ä¸æ”¯æŒä¸Šä¼ è§†é¢‘ï¼Œéœ€è¦è‡ªè¡ŒæŒ‡å®šæœ¬åœ°æµè§ˆå™¨
> è§£å†³æ–¹æ¡ˆï¼š
> 1. ä¸‹è½½chrome
> 2. æ‰¾åˆ°chromeçš„å®‰è£…ç›®å½•
> 3. å°†æœ¬åœ°chrome è·¯å¾„confæ–‡ä»¶ä¸­ LOCAL_CHROME_PATH = "xxx/xxx/chrome.exe"

---



### 3. bilibili
è¯¥å®ç°ï¼Œå€ŸåŠ©biliupçš„[biliup-rs](https://github.com/biliup/biliup-rs)ï¼Œå†æ¬¡æ„Ÿè°¢ã€‚
1. å‡†å¤‡è§†é¢‘ç›®å½•ç»“æ„
2. cookieè·å–ï¼š`biliup.exe -u account.json login` é€‰é¡¹ä½ å–œæ¬¢çš„ç™»å½•æ–¹å¼
![ç™»å½•æ–¹å¼](media/get_bili_cookie.png) 
3. ä¸Šä¼ è§†é¢‘ï¼šupload_video_to_bilibili.py

#### è§£é‡Šä¸æ³¨æ„äº‹é¡¹ï¼š

```
bilibili cookie é•¿æœŸæœ‰æ•ˆï¼ˆè‡³å°‘æˆ‘è¿è¡Œ2å¹´ä»¥æ¥æ˜¯è¿™æ ·çš„ï¼‰
å…¶ä»–å¹³å° è¯¸å¦‚linux mac æœåŠ¡å™¨è¿è¡Œ è¯·è‡ªè¡Œç ”ç©¶
```
å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/biliup/biliup-rs

---
## æ‰“åŒ…é¡¹ç›®æˆexeåº”ç”¨
```
æ‰“åŒ…å‰ä½ çš„é¡¹ç›®ç»“æ„
```
<img src="media/show/11.png" alt="tiktok show" width="600"/>

```
ä¿®æ”¹main.spec,å…¶ä¸­pathexæ˜¯ä½ é¡¹ç›®æ”¾çš„ä½ç½®ï¼Œæˆ‘çš„é¡¹ç›®æ”¾åˆ°äº†D:\Demos\social-auto-upload-main
```

---

```
ç‚¹å‡»ç”Ÿæˆexe.batï¼Œé¡¹ç›®æ‰“åŒ…åçš„æˆå“å¤§æ¦‚è¿™ä¸ªæ ·å­
```

<img src="media/show/22.png" alt="tiktok show" width="600"/>


å‚è€ƒé¡¹ç›®ï¼š
- https://github.com/wkaisertexas/tiktok-uploader

---

### å…¶ä½™éƒ¨åˆ†(todo)
æ•´ç†åä¸Šä¼ 

---




## ffmpegç”Ÿæˆæ–‡å­—è½¬è§†é¢‘
ffmpegå®‰è£…æ•™ç¨‹https://www.cnblogs.com/wwwwariana/p/18191233
